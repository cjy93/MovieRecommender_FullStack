<!-- 
Filename: contacts.html
This file allows user to find contact information about LaBamBa.
If users have further queries or feedback, they can fill in the form below.
This form will send the outputs to a Google sheet tagged to my personal email. If you try my app, you can check the output at this sheet : https://docs.google.com/spreadsheets/d/1Sj06m3z4Z06dGNjL7VlEnlXbIlCKOWTjZqtOF2Rx7HA/edit?usp=sharing
 -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <!-- Title -->
    <title>LaBamBa: Movie Recommender and Reviews</title>
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="images/logo.ico">

    <link href="https://fonts.googleapis.com/css?family=Chivo:700|Overpass:400,700&display=swap" rel="stylesheet">
    <!-- Social Media icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="contacts.css">
    <link rel="stylesheet" href="contacts_validate.css">
    <script>
        // cnanot access higher level due to security concenrs

        window.onload = function () {

        }
    </script>
</head>

<body>
    <style>
        /* When the submission is successful, change the message to green */
        .green {
            color: green;
            background-color: rgba(0, 128, 0, 0.3);
            padding: 20px;
            text-align: center;

        }

        .red {
            color: red;
            background-color: rgba(255, 0, 0, 0.3);
            padding: 20px;
            text-align: center;
        }
    </style>

    <h1>Contact Us!</h1>
    <p>We offer offline support via our email follow-ups! Otherwise, you can send in your query in the form below! :)
    </p>
    <!-- Contact details from Labamba -->
    <div class="contactInfo">
        <article>
            <h2>Email Information</h2>
            <p>Email: <a href="mailto:servicehelp@labamba.com">servicehelp@labamba.com</a></p>
            <p>Phone: <a href="tel:6567721900">6772 1900</a></p>
        </article>


    </div>
    <!-- User to fill up form here -->
    <section class="contactDetails">
        <h2>Form</h2>
        <p>Please leave your query/issues related to the website/booking here and we will get back to you as soon as we
            can! Note that required values are marked by an asterisk (*).</p>
        <!-- form component -->
        <!-- Success/Failure Message here -->
        <h4 id="form-alert"></h4>
        <!-- Form boxes -->
        <form name="google-sheet" method="POST">
            <!-- can use method="GET" since this is a dummy form for now -->
            <fieldset id="detailsInfo">
                <!-- Legend for whole fieldset  -->
                <legend>Fill in the form details</legend>
                <div>
                    <label for="title">Title</label>
                    <input type="text" name="titleBox" id="title" list="titleList">
                    <datalist id="titleList">
                        <option value="Mr.">Mr.</option>
                        <option value="Mrs.">Mrs.</option>
                        <option value="Ms.">Ms.</option>
                        <option value="Prof.">Prof.</option>
                        <option value="Dr.">Dr.</option>
                        <option value="Assist. Prof.">Assist. Prof.</option>
                        <option value="Assoc. Prof">Assoc. Prof</option>
                    </datalist>
                </div>
                <div>
                    <!-- "for" uses the "id" of the input tag -->
                    <label for="nameBox">Name*</label>
                    <!-- attribute "name" is used for when you send form data to server -->
                    <input id="nameBox" name="custName" type="text" required placeholder="first-name last-name">
                </div>
                <div>
                    <label for="phoneBox">Phone*</label>
                    <input name="custPhone" id="phoneBox" type="text" required placeholder="(nn)nnnn-nnnn"
                        pattern="\(?([0-9]{2})\)?[-. ]?([0-9]{4})[-. ]?([0-9]{4})">
                </div>
                <div>
                    <label for="email">Email*</label>
                    <input type="email" name="emailBox" id="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
                        required>
                </div>
                <div>
                    <label for="enquiryType">Enquiry type</label>
                    <select name="enquirySelection" id="enquiryType">
                        <option value="General Enquiry">General Enquiry</option>
                        <option value="Promotions enquiry">Promotions Enquiry</option>
                        <option value="Others" selected>Others</option>
                    </select>
                </div>
                <div>
                    <label for="visitBox">Date</label>
                    <input type="date" id="visitBox" name="visitDate">
                </div>


                <!-- textarea starts off cols and rows as below. -->
                <label for="enquiry">Enquiry/Problem*</label>
                <br>
                <textarea name="enquiryBox" id="enquiry" cols="30" rows="10"></textarea>
                <div>
                    <input type="submit" value="Submit form">
                    <input type="reset" value="Reset">
                </div>
            </fieldset>

        </form>
        <script>
            const scriptURL = 'https://script.google.com/macros/s/AKfycbxZBfBpvEOvzK_TMrB54QGzdS4btmwwnEd_m3a0U1lKJgnQd7_Vx6fMmA_2_3-7b86u2Q/exec'
            const form = document.forms['google-sheet']

            form.addEventListener('submit', e => {
                e.preventDefault()
                fetch(scriptURL, { method: 'POST', body: new FormData(form) })
                    .then(response => $('#form-alert').html("You have successfully submitted the form!").attr('class', 'green'))
                    .catch(error => $('#form-alert').html("You have made some mistakes in the form").attr('class', 'red'))
            })
        </script>

    </section>

    <!-- contact card -->
    <div class="container">
        <h2>Explore more here</h2>
        <!-- Cards container -->
        <div class="cards">

            <!-- Home -->
            <a href="index.html">
                <div class="card-white">
                    <img src="https://images.unsplash.com/photo-1570129477492-45c003edd2be?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80"
                        alt="">
                    <h3>Back to Home!</h3>
                    <p>Go to home page or find Promotions!</p>
                </div>
            </a>



        </div>
    </div>

    <!-- Footer section -->
    <div class="footer">
        <div class="container">
            <p>Website made with ❤️ by &copyLaBamBa 2022</p>
            <div id="socialMedia">
                <a href="#" class="fa fa-facebook"></a>
                <a href="#" class="fa fa-twitter"></a>
                <a href="#" class="fa fa-instagram"></a>
            </div>
        </div>
    </div>

    <script> </script>
</body>

</html>


<!-- How to submit html form to Google spreadsheet: https://www.youtube.com/watch?v=s9XZui6zRPw -->